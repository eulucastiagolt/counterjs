class CounterJS{constructor(e){this.selector=e||null,this.counters=[]}init(){return(this.selector?document.querySelectorAll(this.selector):document.querySelectorAll("[data-counterjs]")).forEach((e=>this.setupCounter(e))),this}setupCounter(e){if(!e.getAttribute("data-counterjs-date"))return void console.warn("Atributo data-counterjs-date não encontrado no elemento:",e);const a={element:e,hideWhenZero:"true"===e.getAttribute("data-counterjs-hidden"),hideYear:"true"===e.getAttribute("data-counterjs-hide-year"),hideMonth:"true"===e.getAttribute("data-counterjs-hide-month"),hideDay:"true"===e.getAttribute("data-counterjs-hide-day"),hideHour:"true"===e.getAttribute("data-counterjs-hide-hour"),hideMinute:"true"===e.getAttribute("data-counterjs-hide-minute"),hideSecond:"true"===e.getAttribute("data-counterjs-hide-second"),dateSeparator:e.getAttribute("data-counterjs-date-separator")||" ",timeSeparator:e.getAttribute("data-counterjs-time-separator")||":",dateTimeSeparator:e.getAttribute("data-counterjs-datetime-separator")||" ",interval:null};this.counters.push(a),this.startCounter(a)}startCounter(e){const{element:a}=e,t=a.getAttribute("data-counterjs-date");let n,s,r,o=0,u=0,p=0;try{const[e,a]=t.split(" "),[c,l,i]=e.split("/").map(Number),d=new Date(i,l-1,c);if(isNaN(d.getTime()))throw new Error("Data inválida");n=d.getDate(),s=d.getMonth()+1,r=d.getFullYear(),a&&([o,u,p]=a.split(":").map(Number)),r<100&&(r+=2e3)}catch(e){return console.error("Erro ao processar data/hora:",e),void(a.textContent="Erro na data")}const c=()=>{const t=new Date,c=new Date(r,s-1,n,o,u,p),l=Math.floor((c-t)/1e3);if(l<=0){if(clearInterval(e.interval),e.hideWhenZero)return void(a.style.display="none");let t='<span class="counter-container">',n=!1;return e.hideYear||(t+='\n                        <span class="counter-group">\n                            <span class="counter-value">00</span>\n                            <span class="counter-label">Anos</span>\n                        </span>',n=!0),e.hideMonth||(n&&(t+=`<span class="counter-separator">${e.dateSeparator}</span>`),t+='\n                        <span class="counter-group">\n                            <span class="counter-value">00</span>\n                            <span class="counter-label">Meses</span>\n                        </span>',n=!0),e.hideDay||(n&&(t+=`<span class="counter-separator">${e.dateSeparator}</span>`),t+='\n                        <span class="counter-group">\n                            <span class="counter-value">00</span>\n                            <span class="counter-label">Dias</span>\n                        </span>',n=!0),!n||e.hideHour&&e.hideMinute&&e.hideSecond||(t+=`<span class="counter-separator">${e.dateTimeSeparator}</span>`),e.hideHour||(t+='\n                        <span class="counter-group">\n                            <span class="counter-value">00</span>\n                            <span class="counter-label">Horas</span>\n                        </span>',n=!0),e.hideMinute||(n&&(t+=`<span class="counter-separator">${e.timeSeparator}</span>`),t+='\n                        <span class="counter-group">\n                            <span class="counter-value">00</span>\n                            <span class="counter-label">Minutos</span>\n                        </span>',n=!0),e.hideSecond||(n&&(t+=`<span class="counter-separator">${e.timeSeparator}</span>`),t+='\n                        <span class="counter-group">\n                            <span class="counter-value">00</span>\n                            <span class="counter-label">Segundos</span>\n                        </span>'),t+="</span>",void(a.innerHTML=t)}const i=l,d=Math.floor(i/60),h=Math.floor(d/60),g=Math.floor(h/24),S=Math.floor(g/30),m=Math.floor(S/12),b=i%60,v=d%60,M=h%24,A=g%30,$=S%12;let f='<span class="counter-container">',j=!1;const y=(a="date")=>{j&&("date"===a?f+=`<span class="counter-separator">${e.dateSeparator}</span>`:"time"===a?f+=`<span class="counter-separator">${e.timeSeparator}</span>`:"datetime"===a&&(f+=`<span class="counter-separator">${e.dateTimeSeparator}</span>`))};!e.hideYear&&m>0&&(f+=`\n                    <span class="counter-group">\n                        <span class="counter-value">${m.toString().padStart(2,"0")}</span>\n                        <span class="counter-label">${1===m?"Ano":"Anos"}</span>\n                    </span>`,j=!0),!e.hideMonth&&($>0||j)&&(j&&y("date"),f+=`\n                    <span class="counter-group">\n                        <span class="counter-value">${$.toString().padStart(2,"0")}</span>\n                        <span class="counter-label">${1===$?"Mês":"Meses"}</span>\n                    </span>`,j=!0),!e.hideDay&&(A>0||j)&&(j&&y("date"),f+=`\n                    <span class="counter-group">\n                        <span class="counter-value">${A.toString().padStart(2,"0")}</span>\n                        <span class="counter-label">${1===A?"Dia":"Dias"}</span>\n                    </span>`,j=!0),!j||e.hideHour&&e.hideMinute&&e.hideSecond||y("datetime"),e.hideHour||(f+=`\n                    <span class="counter-group">\n                        <span class="counter-value">${M.toString().padStart(2,"0")}</span>\n                        <span class="counter-label">${1===M?"Hora":"Horas"}</span>\n                    </span>`,j=!0),e.hideMinute||(j&&y("time"),f+=`\n                    <span class="counter-group">\n                        <span class="counter-value">${v.toString().padStart(2,"0")}</span>\n                        <span class="counter-label">Min</span>\n                    </span>`,j=!0),e.hideSecond||(j&&y("time"),f+=`\n                    <span class="counter-group">\n                        <span class="counter-value">${b.toString().padStart(2,"0")}</span>\n                        <span class="counter-label">Seg</span>\n                    </span>`),f+="</span>",a.innerHTML=f};c(),e.interval=setInterval(c,1e3)}destroy(){this.counters.forEach((e=>{e.interval&&clearInterval(e.interval)})),this.counters=[]}}"undefined"!=typeof window&&(window.CounterJS=CounterJS),"undefined"!=typeof module&&module.exports&&(module.exports=CounterJS);